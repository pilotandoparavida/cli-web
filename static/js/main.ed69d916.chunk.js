(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e,t,a){e.exports=a.p+"static/media/logo.90f64a36.png"},33:function(e,t,a){e.exports=a(62)},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(28),l=a.n(r),c=a(15),i=a(9),s=a(7),u=a.n(s),d=a(10),m=a(2),p=a(29),f=a.n(p).a.create({baseURL:"https://cli-backend.herokuapp.com",timeout:3e4}),h=a(12),g=a.n(h);function b(e){var t=e.history,a=Object(n.useState)(""),r=Object(m.a)(a,2),l=r[0],i=r[1],s=Object(n.useState)(""),p=Object(m.a)(s,2),h=p[0],b=p[1],v=Object(n.useState)(""),E=Object(m.a)(v,2),j=E[0],O=E[1],S=Object(n.useState)(""),X=Object(m.a)(S,2),y=X[0],w=X[1],C=Object(n.useState)(""),x=Object(m.a)(C,2),A=x[0],F=x[1],I=Object(n.useState)(!1),D=Object(m.a)(I,2),N=D[0],M=D[1];function _(){var e=!0;if(h?w(""):(w("Informe a CNH."),e=!1),j){F("");var t=/[^\d]/,a=/^\s+|\s+$/g;if(10!==j.length)F("Data fora do padr\xe3o DD/MM/AAAA."),e=!1;else{var n=j.split("/");3!==n.length?(F("Data fora do padr\xe3o DD/MM/AAAA."),e=!1):(n[0]=n[0].replace(a,""),n[1]=n[1].replace(a,""),n[2]=n[2].replace(a,""),2===n[0].length&&2===n[1].length&&4===n[2].length||(F("Data fora do padr\xe3o DD/MM/AAAA"),e=!1),(t.test(n[0])||t.test(n[1])||t.test(n[2]))&&(F("Caracter inv\xe1lido encontrado!"),e=!1))}}else F("Informe a data de nascimento."),e=!1;return e}function k(){return(k=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(""),a.preventDefault(),_()&&(M(!0),f.get("/login",{headers:{cnh:h,nascimento:j}}).then((function(e){M(!1);var a=e.data.dados._id;localStorage.setItem("@webppv/aluno_id",a),t&&t.push("/")})).catch((function(e){M(!1),e.response&&i(e.response.data.msg)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("img",{src:g.a,style:{cursor:"pointer"},alt:"Pilotando para Vida",className:"logo",onClick:function(){return localStorage.removeItem("@webppv/aluno_id"),void localStorage.removeItem("@webppv/turma_id")}}),o.a.createElement("div",{className:"content"},o.a.createElement("form",{onSubmit:function(e){return k.apply(this,arguments)}},o.a.createElement("label",{htmlFor:"cnh"},"CNH*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},y),o.a.createElement("input",{type:"text",id:"cnh",placeholder:"CNH",onChange:function(e){return b(e.target.value)},value:h}),o.a.createElement("label",{htmlFor:"nascimento"},"Data de nascimento*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},A),o.a.createElement("input",{type:"text",id:"nascimento",placeholder:"Data de nascimento",onChange:function(e){return O(e.target.value)},value:j}),o.a.createElement("div",{style:{fontSize:12,color:"red"}},l),o.a.createElement("button",{type:"submit",disabled:N},N&&o.a.createElement("i",{className:"fa fa-refresh fa-spin"}),"Entrar")),o.a.createElement("p",null),o.a.createElement(c.b,{to:"/cad"},o.a.createElement("button",null,"Cadastro")))))}function v(e){var t=e.history,a="WEBPPV:Cadastro",r=Object(n.useState)(""),l=Object(m.a)(r,2),c=l[0],i=l[1],s=Object(n.useState)(""),p=Object(m.a)(s,2),h=p[0],b=p[1],v=Object(n.useState)(""),E=Object(m.a)(v,2),j=E[0],O=E[1],S=Object(n.useState)(""),X=Object(m.a)(S,2),y=X[0],w=X[1],C=Object(n.useState)(""),x=Object(m.a)(C,2),A=x[0],F=x[1],I=Object(n.useState)(""),D=Object(m.a)(I,2),N=D[0],M=D[1],_=Object(n.useState)(""),k=Object(m.a)(_,2),z=k[0],P=k[1],H=Object(n.useState)(""),T=Object(m.a)(H,2),W=T[0],V=T[1],J=Object(n.useState)(""),L=Object(m.a)(J,2),R=L[0],U=L[1],B=Object(n.useState)(""),G=Object(m.a)(B,2),$=G[0],q=G[1],Q=Object(n.useState)(""),Y=Object(m.a)(Q,2),Z=Y[0],K=Y[1],ee=Object(n.useState)(""),te=Object(m.a)(ee,2),ae=te[0],ne=te[1],oe=Object(n.useState)(""),re=Object(m.a)(oe,2),le=re[0],ce=re[1],ie=Object(n.useState)(""),se=Object(m.a)(ie,2),ue=se[0],de=se[1],me=Object(n.useState)(""),pe=Object(m.a)(me,2),fe=pe[0],he=pe[1],ge=Object(n.useState)(""),be=Object(m.a)(ge,2),ve=be[0],Ee=be[1],je=Object(n.useState)(""),Oe=Object(m.a)(je,2),Se=Oe[0],Xe=Oe[1],ye=Object(n.useState)(""),we=Object(m.a)(ye,2),Ce=we[0],xe=we[1],Ae=Object(n.useState)(""),Fe=Object(m.a)(Ae,2),Ie=Fe[0],De=Fe[1],Ne=Object(n.useState)(""),Me=Object(m.a)(Ne,2),_e=Me[0],ke=Me[1],ze=Object(n.useState)(""),Pe=Object(m.a)(ze,2),He=Pe[0],Te=Pe[1],We=Object(n.useState)(""),Ve=Object(m.a)(We,2),Je=Ve[0],Le=Ve[1],Re=Object(n.useState)(""),Ue=Object(m.a)(Re,2),Be=Ue[0],Ge=Ue[1],$e=Object(n.useState)(!1),qe=Object(m.a)($e,2),Qe=qe[0],Ye=qe[1];function Ze(){console.log(a+":validateForm inside");var e=!0;if(Je){Ge(""),8!==Je.length&&(Ge("Placa fora do padr\xe3o XXX-XXXX."),e=!1);/^[a-z,A-Z]{3}-\d.\d{2}/.test(Je)||(Ge("Placa fora do padr\xe3o XXX-XXXX."),e=!1)}else Ge("Informe a placa da moto no padr\xe3o XXX-XXXX."),e=!1;if(Ce?De(""):(De("Informe o email."),e=!1),fe?Ee(""):(Ee("Informe o WhastApp."),e=!1),Z?(ne(""),2!==Z.length&&(ne("Informe a sigla da unidade federativa da CNH."),e=!1)):(ne("Informe a Unidade Federativa da CNH."),e=!1),A?M(""):(M("Informe o rg."),e=!1),j){w("");var t=j.split(".");if(3!==t.length)w("Informe o CPF no formato XXX.XXX.XXX-XX"),e=!1;else 2!==t[2].split("-").length?(w("Informe o d\xedgito do CPF."),e=!1):function(e){if("00000000000"===(e=(e=e[0]+e[1]+e[2]+e[3]).split("")))return!1;var t,a,n;for(t=0,n=0;n<9;n++)t+=e[n]*(10-n);if(10!==(a=10*t%11)&&11!==a||(a=0),a!==parseInt(e[9]))return!1;for(t=0,n=0;n<10;n++)t+=e[n]*(11-n);return 10!==(a=10*t%11)&&11!==a||(a=0),a===parseInt(e[10])}(j.split(/[\s.-]+/))||(w("CPF inv\xe1lido."),e=!1)}else w("Informe o CPF."),e=!1;if(c?b(""):(b("Informe o nome."),e=!1),R?(q(""),function(e){var t,a,n=e.charAt(0);if(11!==(e=e.replace(/[^\d]/g,"")).length&&9!==e.length||n.repeat(11)===e)return!1;9===e.length&&(e="00"+e);for(var o=0,r=0,l=9;r<=8;r++,l--)o+=l*+e[r];var c=10===(t=o%11)?-2:0;for(t>9&&(t=0),o=0,r=0,l=1;r<=8;r++,l++)o+=l*+e[r];return(a=o%11+c<0?11+o%11+c:o%11+c)>9&&(a=0),t===parseInt(e[9])&&a===parseInt(e[10])}(R)||(q("CNH inv\xe1lida."),e=!1)):(q("Informe a CNH."),e=!1),z){V("");var n=/[^\d]/,o=/^\s+|\s+$/g;if(10!==z.length)V("Data fora do padr\xe3o DD/MM/AAAA."),e=!1;else{var r=z.split("/");3!==r.length?(V("Data fora do padr\xe3o DD/MM/AAAA."),e=!1):(r[0]=r[0].replace(o,""),r[1]=r[1].replace(o,""),r[2]=r[2].replace(o,""),2===r[0].length&&2===r[1].length&&4===r[2].length||(V("Data fora do padr\xe3o DD/MM/AAAA"),e=!1),(n.test(r[0])||n.test(r[1])||n.test(r[2]))&&(V("Caracter inv\xe1lido encontrado!"),e=!1))}}else V("Informe a data de nascimento no padr\xe3o DD/MM/AAAA."),e=!1;return e}function Ke(){return(Ke=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a+":handleSubmit:"+n),n.preventDefault(),Ze()&&(Ye(!0),f.post("/aluno/cadastro",{nome:c,cpf:j,rg:A,nascimento:z,cnh:R,ufcnh:Z,tempocnh:le,cidade:ue,celular:fe,sexo:Se,email:Ce,marca:_e,modelo:He,placa:Je}).then((function(e){Ye(!1);var a=e.data,n=a.msg,o=a.dados;alert(n);var r=o._id,l=o.turma;localStorage.setItem("@webppv/aluno_id",r),localStorage.setItem("@webppv/turma_id",l),t&&t.push("/")})).catch((function(e){Ye(!1),e.response&&console.log(e.response.data.msg)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("img",{src:g.a,alt:"Pilotando para Vida",className:"logo",onClick:function(){return console.log(a+":handleLogout"),void(t&&t.push("/"))}}),o.a.createElement("div",{className:"content"},o.a.createElement("p",null,"Cadastre-se no ",o.a.createElement("strong",null,"Pilotando para Vida")),o.a.createElement("form",{onSubmit:function(e){return Ke.apply(this,arguments)}},o.a.createElement("label",{htmlFor:"nome"},"Nome*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},h),o.a.createElement("input",{type:"text",id:"nome",placeholder:"Nome",onChange:function(e){return i(e.target.value)},value:c,style:{textTransform:"capitalize"}}),o.a.createElement("label",{htmlFor:"cpf"},"CPF*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},y),o.a.createElement("input",{type:"text",id:"cpf",placeholder:"CPF no formato XXX.XXX.XXX-XX",onChange:function(e){return O(e.target.value)},value:j}),o.a.createElement("label",{htmlFor:"rg"},"RG*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},N),o.a.createElement("input",{type:"text",id:"rg",placeholder:"RG",onChange:function(e){return F(e.target.value)},value:A}),o.a.createElement("label",{htmlFor:"nascimento"},"Data de nascimento*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},W),o.a.createElement("input",{type:"text",id:"nascimento",placeholder:"Data de nascimento no formato XX/XX/XXXX",onChange:function(e){return P(e.target.value)},value:z}),o.a.createElement("label",{htmlFor:"cnh"},"CNH*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},$),o.a.createElement("input",{type:"text",id:"cnh",placeholder:"CNH",onChange:function(e){return U(e.target.value)},value:R}),o.a.createElement("label",{htmlFor:"ufcnh"},"UF da CNH*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},ae),o.a.createElement("input",{type:"text",id:"ufcnh",placeholder:"UF da CNH",onChange:function(e){return K(e.target.value)},value:Z,style:{textTransform:"uppercase"}}),o.a.createElement("label",{htmlFor:"tempocnh"},"Tempo de habilita\xe7\xe3o de moto"),o.a.createElement("input",{type:"text",id:"tempocnh",placeholder:"Tempo de habilita\xe7\xe3o de moto",onChange:function(e){return ce(e.target.value)},value:le}),o.a.createElement("label",{htmlFor:"cidade"},"Cidade"),o.a.createElement("input",{type:"text",id:"cidade",placeholder:"Cidade",onChange:function(e){return de(e.target.value)},value:ue,style:{textTransform:"capitalize"}}),o.a.createElement("label",{htmlFor:"whats"},"WhatsApp*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},ve),o.a.createElement("input",{type:"text",id:"whats",placeholder:"WhatsApp (XX) xxxxx-xxxx",onChange:function(e){return he(e.target.value)},value:fe}),o.a.createElement("label",{htmlFor:"email"},"E-mail*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},Ie),o.a.createElement("input",{type:"email",id:"email",placeholder:"E-mail",onChange:function(e){return xe(e.target.value)},value:Ce,style:{textTransform:"lowercase"}}),o.a.createElement("label",{htmlFor:"sexo"},"Sexo"),o.a.createElement("select",{name:"sexo",id:"sexo",onChange:function(e){return Xe(e.target.value)},value:Se},o.a.createElement("option",{value:"M",selected:!0},"Masculino"),o.a.createElement("option",{value:"F"},"Feminino")),o.a.createElement("label",null,"Dados da moto"),o.a.createElement("label",{htmlFor:"marca"},"Marca"),o.a.createElement("input",{type:"text",id:"marca",placeholder:"Marca",onChange:function(e){return ke(e.target.value)},value:_e}),o.a.createElement("label",{htmlFor:"modelo"},"Modelo"),o.a.createElement("input",{type:"text",id:"modelo",placeholder:"Modelo",onChange:function(e){return Te(e.target.value)},value:He}),o.a.createElement("label",{htmlFor:"placa"},"Placa*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},Be),o.a.createElement("input",{type:"text",id:"placa",placeholder:"Placa no formato XXX-XXXX",onChange:function(e){return Le(e.target.value)},value:Je,style:{textTransform:"uppercase"}}),o.a.createElement("button",{type:"submit",disabled:Qe},Qe&&o.a.createElement("i",{className:"fa fa-cog fa-spin"}),"Cadastrar")))))}var E=a(32);function j(e){var t=e.history,a=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],r=Object(n.useState)(!1),l=Object(m.a)(r,2),c=l[0],i=l[1],s=Object(n.useState)(!0),p=Object(m.a)(s,2),h=p[0],b=p[1],v=Object(n.useState)(localStorage.getItem("@webppv/aluno_id")||""),j=Object(m.a)(v,1)[0],O=Object(n.useState)(""),S=Object(m.a)(O,2),X=S[0],y=S[1],w=Object(n.useState)(""),C=Object(m.a)(w,2),x=C[0],A=C[1],F=Object(n.useState)(""),I=Object(m.a)(F,2),D=I[0],N=I[1],M=Object(n.useState)(""),_=Object(m.a)(M,2),k=_[0],z=_[1],P=Object(n.useState)(""),H=Object(m.a)(P,2),T=H[0],W=H[1],V=Object(n.useCallback)((function(e,t){if(localStorage.setItem("@webppv/turma_id",t.dados._id),"ESPERA"===t.dados.descricao)y("Lista de Espera"),A("\xe0 definir"),N("\xe0 definir"),W("");else{y(e.dados.estado),A(t.dados.endereco);var n=new Date(t.dados.data);N(n.getDate()+" de "+a[n.getMonth()]+" de "+n.getFullYear()),W(t.dados.googlemaps)}z(e.dados.confirmar)}),[a]);function J(){return(J=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),f.get("/aluno/turma/aceitar",{headers:{aluno_id:j,turma_id:localStorage.getItem("@webppv/turma_id")}}).then((function(e){z(e.data.dados.confirmar),y(e.data.dados.estado)})).catch((function(e){i(!1),e.response&&console.log(e.response.data.msg),R()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),f.get("/aluno/turma/negar",{headers:{aluno_id:j,turma_id:localStorage.getItem("@webppv/turma_id")}}).then((function(e){200===e.status||220===e.status?(f.get("/turma/".concat(e.data.dados.turma)).then((function(t){V(e.data,t.data),b(!1)})).catch((function(e){b(!1),e.response&&console.log(e.response.data.msg),R()})),220===e.status?alert("Voc\xea j\xe1 fez o curso."):alert("Voc\xea foi transferido de turma!"),i(!1)):210===e.status&&(i(!1),alert("Voc\xea foi removido do sistema. Caso tenha interesse em realizar o curso, realize novamente sua inscri\xe7\xe3o."),localStorage.removeItem("@webppv/aluno_id"),localStorage.removeItem("@webppv/turma_id"),t&&t.push("/login"))})).catch((function(e){i(!1),e.response&&console.log(e.response.data.msg),R()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){localStorage.removeItem("@webppv/aluno_id"),localStorage.removeItem("@webppv/turma_id"),t&&t.push("/login")}function U(e){return o.a.createElement("div",null,o.a.createElement("p",null),o.a.createElement("label",null,"Voc\xea deve confirmar a sua presen\xe7a para que sua vaga seja garantida!"),o.a.createElement("p",null),o.a.createElement("button",{style:{width:"40%",margin:"10px"},onClick:function(){return function(){return J.apply(this,arguments)}()},disabled:c},o.a.createElement("label",null,"Sim")),o.a.createElement("button",{style:{width:"40%",margin:"10px"},onClick:function(){return function(){return L.apply(this,arguments)}()},disabled:c},o.a.createElement("label",null,"N\xe3o")))}return Object(n.useEffect)((function(){""===j?(localStorage.removeItem("@webppv/aluno_id"),localStorage.removeItem("@webppv/turma_id"),t&&t.push("/login")):(b(!0),f.get("/aluno/turma",{headers:{aluno_id:j}}).then((function(e){console.log("rAlunoTurma"),console.log(e.data.dados),f.get("/turma/".concat(e.data.dados.turma)).then((function(t){console.log("rTurma"),console.log(t.data.dados),V(e.data,t.data),b(!1)})).catch((function(e){b(!1),e.response&&console.log(e.response.data.msg),R()}))})).catch((function(e){b(!1),e.response&&console.log(e.response.data.msg),R()})))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("img",{src:g.a,style:{cursor:"pointer"},alt:"Pilotando para Vida",className:"logo",onClick:function(){return R()}}),o.a.createElement("div",{className:"content"},h&&o.a.createElement("div",{className:"fetching"},o.a.createElement(E.a,{color:"#F58D50",loading:h})),!h&&o.a.createElement((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{style:{justifyContent:"center"}},X),o.a.createElement("label",{style:{fontWeight:"bold"}},"Data: "),o.a.createElement("label",{htmlFor:"data"},D),o.a.createElement("p",null),o.a.createElement("label",{style:{fontWeight:"bold"}},"Endere\xe7o: "),o.a.createElement("label",{htmlFor:"data"},x),o.a.createElement("p",null),""!==T&&o.a.createElement("center",null,o.a.createElement("iframe",{title:"GoogleMaps",src:T,style:{border:0,width:"100%",height:"200"}})),o.a.createElement("p",null),!0===k&&o.a.createElement(U,null))}),null))))}function O(){return o.a.createElement(c.a,{basename:"/cli-web"},o.a.createElement(i.c,null,o.a.createElement(i.a,{path:"/login",component:b}),o.a.createElement(i.a,{path:"/cad",component:v}),o.a.createElement(i.a,{path:"/",exact:!0,component:j})))}a(61);var S=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(O,null))},X=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(o.a.createElement(S,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/cli-web",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/cli-web","/service-worker.js");X?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):y(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):y(e)}))}}()}},[[33,1,2]]]);
//# sourceMappingURL=main.ed69d916.chunk.js.map